<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>demo</title>
</head>

<body>
	<script>
		//函数柯里化
		// 作用:提高适用性 降低使用范围
		//利用闭包可以把入参保存起来,到最后一一起调用
		function curry(fn) {
			var Slice = [].slice;
			console.log("111arguments", arguments);
			var args = Slice.call(arguments, 1);
			console.log("222args", args);

			return function() {

				console.log("333arguments", arguments);

				var addArgs = Slice.call(arguments),
					allArgs = args.concat(addArgs);
				
				console.log("444addArgs", addArgs);
				console.log("555allArgs", allArgs);

				return fn.apply(null, allArgs);
			}
		}

		function add(n1, n2) {
			return n1 + n2;
		}
		function add5(num){
			return add(5,num);
		}
		
		console.log("::::", add(1,5));
		console.log("::::", add5(5));
		var add8 = curry(add,8);
		console.log("::::", add8(5));
		
// 		//延迟执行
// 		var curry_delay = function(fn) {
// 			//闭包保存入参
//     			var _args = []
// 		    return function cb() {
// 				if (arguments.length == 0) {
// 				    return fn.apply(this, _args)
// 				}
// 				Array.prototype.push.apply(_args, arguments);
// 				return cb;
// 			}
// 		}
		
	</script>
</body>

</html>
